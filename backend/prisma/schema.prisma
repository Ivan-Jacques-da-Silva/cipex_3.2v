generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model cp_usuarios {
  cp_id                Int                    @id
  cp_nome              String?                @db.VarChar(80)
  cp_email             String?                @db.VarChar(45)
  cp_login             String?                @db.VarChar(45)
  cp_password          String?                @db.VarChar(200)
  cp_tipo_user         Int?
  cp_rg                String?                @db.VarChar(20)
  cp_cpf               String?                @db.VarChar(14)
  cp_datanascimento    String?                @db.VarChar(20)  // Alterado para String para aceitar qualquer formato
  cp_estadocivil       String?                @db.VarChar(45)
  cp_cnpj              String?                @db.VarChar(20)  // Alterado para String
  cp_ie                String?                @db.VarChar(20)  // Alterado para String
  cp_whatsapp          String?                @db.VarChar(14)
  cp_telefone          String?                @db.VarChar(14)
  cp_empresaatuacao    String?                @db.VarChar(45)
  cp_profissao         String?                @db.VarChar(45)
  cp_end_cidade_estado String?                @db.VarChar(45)
  cp_end_rua           String?                @db.VarChar(45)
  cp_end_num           String?                @db.VarChar(20)  // Alterado para String
  cp_end_cep           String?                @db.VarChar(20)  // Alterado para String
  cp_descricao         String?                @db.VarChar(50)
  cp_foto_perfil       String?                @db.VarChar(255)
  cp_escola_id         Int?
  cp_turma_id          Int?
  cp_excluido          Int?                   @default(0)      // Alterado para Int para aceitar 0/1
  cp_chamadas          cp_chamadas[]
  cp_tr_aluno          cp_tr_aluno[]
  cp_turmas            cp_turmas[]
  cp_vizu_aud_usuarios cp_vizu_aud_usuarios[]

  @@map("cp_usuarios")
}

model cp_escolas {
  cp_ec_id              Int           @id
  cp_ec_nome            String?       @db.VarChar(100)
  cp_ec_data_cadastro   String?       @db.VarChar(20)  // Alterado para String
  cp_ec_responsavel     String?       @db.VarChar(50)
  cp_ec_responsavel_id  Int?
  cp_ec_endereco_rua    String?       @db.VarChar(100)
  cp_ec_endereco_numero String?       @db.VarChar(20)
  cp_ec_endereco_cep    String?       @db.VarChar(20)  // Alterado para String
  cp_ec_cidade          String?       @db.VarChar(50)
  cp_ec_estado          String?       @db.VarChar(2)
  cp_ec_telefone        String?       @db.VarChar(14)
  cp_ec_email           String?       @db.VarChar(50)
  cp_ec_excluido        Int?          @default(0)      // Alterado para Int
  cp_tr_aluno           cp_tr_aluno[]
  cp_turmas             cp_turmas[]

  // Relação opcional com usuário responsável (por ID)
  cp_usuarios           cp_usuarios?  @relation(fields: [cp_ec_responsavel_id], references: [cp_id])

  @@map("cp_escolas")
}

model cp_curso {
  cp_curso_id           Int        @id
  cp_nome_curso         String?    @db.VarChar(100)
  cp_youtube_link_curso String?    @db.VarChar(255)
  cp_pdf1_curso         String?    @db.VarChar(255)
  cp_pdf2_curso         String?    @db.VarChar(255)
  cp_pdf3_curso         String?    @db.VarChar(255)
  cp_pdf4_curso         String?    @db.VarChar(255)
  cp_pdf5_curso         String?    @db.VarChar(255)
  cp_excluido           Int?       @default(0)         // Alterado para Int
  cp_audio              cp_audio[]

  @@map("cp_curso")
}

model cp_audio {
  cp_audio_id      Int                    @id
  cp_curso_id      Int?
  cp_nome_audio    String?                @db.VarChar(100)
  cp_arquivo_audio String?                @db.VarChar(255)
  cp_curso         cp_curso?              @relation(fields: [cp_curso_id], references: [cp_curso_id])
  cp_vizu_aud_usuarios cp_vizu_aud_usuarios[]

  @@map("cp_audio")
}

model cp_turmas {
  cp_turma_id       Int           @id
  cp_turma_nome     String?       @db.VarChar(100)
  cp_turma_ano      String?       @db.VarChar(4)   // Alterado para String
  cp_turma_semestre String?       @db.VarChar(1)   // Alterado para String
  cp_escola_id      Int?
  cp_usuario_id     Int?
  cp_excluido       Int?          @default(0)      // Alterado para Int
  cp_chamadas       cp_chamadas[]
  cp_resumos        cp_resumos[]
  cp_tr_aluno       cp_tr_aluno[]
  cp_escolas        cp_escolas?   @relation(fields: [cp_escola_id], references: [cp_ec_id])
  cp_usuarios       cp_usuarios?  @relation(fields: [cp_usuario_id], references: [cp_id])

  @@map("cp_turmas")
}

model cp_matriculas {
  cp_mat_id               Int                   @id
  cp_usuario_id           Int?
  cp_mat_data_matricula   String?               @db.VarChar(20)  // Alterado para String
  cp_mat_valor_total      String?               @db.VarChar(20)  // Alterado para String
  cp_mat_desconto         String?               @db.VarChar(20)  // Alterado para String
  cp_mat_valor_final      String?               @db.VarChar(20)  // Alterado para String
  cp_mat_forma_pagamento  String?               @db.VarChar(50)
  cp_mat_num_parcelas     String?               @db.VarChar(10)  // Alterado para String
  cp_mat_observacoes      String?               @db.Text
  cp_excluido             Int?                  @default(0)      // Alterado para Int
  cp_matriculaParcelas    cp_matriculaParcelas[]

  @@map("cp_matriculas")
}

model cp_resumos {
  cp_resumo_id       Int         @id
  cp_turma_id        Int?
  cp_resumo_titulo   String?     @db.VarChar(100)
  cp_resumo_conteudo String?     @db.Text
  cp_resumo_data     String?     @db.VarChar(20)  // Alterado para String
  cp_excluido        Int?        @default(0)      // Alterado para Int
  cp_turmas          cp_turmas?  @relation(fields: [cp_turma_id], references: [cp_turma_id])

  @@map("cp_resumos")
}

model cp_chamadas {
  cp_chamada_id   Int         @id
  cp_turma_id     Int?
  cp_usuario_id   Int?
  cp_data_chamada String?     @db.VarChar(20)  // Alterado para String
  cp_presente     Int?        @default(0)      // Alterado para Int
  cp_excluido     Int?        @default(0)      // Alterado para Int
  cp_turmas       cp_turmas?  @relation(fields: [cp_turma_id], references: [cp_turma_id])
  cp_usuarios     cp_usuarios? @relation(fields: [cp_usuario_id], references: [cp_id])

  @@map("cp_chamadas")
}

model cp_tr_aluno {
  cp_tr_id      Int          @id
  cp_usuario_id Int?
  cp_escola_id  Int?
  cp_turma_id   Int?
  cp_excluido   Int?         @default(0)  // Alterado para Int
  cp_escolas    cp_escolas?  @relation(fields: [cp_escola_id], references: [cp_ec_id])
  cp_turmas     cp_turmas?   @relation(fields: [cp_turma_id], references: [cp_turma_id])
  cp_usuarios   cp_usuarios? @relation(fields: [cp_usuario_id], references: [cp_id])

  @@map("cp_tr_aluno")
}

model cp_vizu_aud_usuarios {
  cp_vizu_id    Int         @id
  cp_usuario_id Int?
  cp_audio_id   Int?
  cp_data_vizu  String?     @db.VarChar(20)  // Alterado para String
  cp_excluido   Int?        @default(0)      // Alterado para Int
  cp_audio      cp_audio?   @relation(fields: [cp_audio_id], references: [cp_audio_id])
  cp_usuarios   cp_usuarios? @relation(fields: [cp_usuario_id], references: [cp_id])

  @@map("cp_vizu_aud_usuarios")
}

model cp_matriculaParcelas {
  cp_parcela_id          Int            @id
  cp_mat_id              Int?
  cp_parcela_numero      String?        @db.VarChar(10)  // Alterado para String
  cp_parcela_valor       String?        @db.VarChar(20)  // Alterado para String
  cp_parcela_vencimento  String?        @db.VarChar(20)  // Alterado para String
  cp_parcela_paga        Int?           @default(0)      // Alterado para Int
  cp_parcela_data_pagto  String?        @db.VarChar(20)  // Alterado para String
  cp_excluido            Int?           @default(0)      // Alterado para Int
  cp_matriculas          cp_matriculas? @relation(fields: [cp_mat_id], references: [cp_mat_id])

  @@map("cp_matriculaParcelas")
}

model cp_mat_extra {
  cp_mat_extra_id          Int     @id
  cp_mat_extra_nome        String? @db.VarChar(100)
  cp_mat_extra_descricao   String? @db.Text
  cp_mat_extra_arquivo     String? @db.VarChar(255)
  cp_excluido              Int?    @default(0)  // Alterado para Int

  @@map("cp_mat_extra")
}

model cp_mat_materiais {
  cp_mat_materiais_id        Int     @id
  cp_mat_materiais_nome      String? @db.VarChar(100)
  cp_mat_materiais_descricao String? @db.Text
  cp_mat_materiais_arquivo   String? @db.VarChar(255)
  cp_excluido                Int?    @default(0)  // Alterado para Int

  @@map("cp_mat_materiais")
}
